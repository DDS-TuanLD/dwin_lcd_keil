C51 COMPILER V9.57.0.0   USER_FIFO                                                         05/08/2021 13:18:31 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE USER_FIFO
OBJECT MODULE PLACED IN .\Objects\user_fifo.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Sources\user_fifo.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PR
                    -INT(.\Listings\user_fifo.lst) TABS(2) OBJECT(.\Objects\user_fifo.obj)

line level    source

   1          #include "user_fifo.h"
   2          #include "sys.h"
   3          user_fifo_t user_fifo;
   4          
   5          void user_fifo_init(){
   6   1          if(user_fifo.is_init == 1){
   7   2              return;
   8   2          }
   9   1          user_fifo.num_bytes_written = user_fifo.r = user_fifo.w = 0;
  10   1          user_fifo.is_init = 1;
  11   1      }
  12          
  13          uint8_t user_fifo_pop(){
  14   1          uint8_t temp;
  15   1          if(user_fifo.num_bytes_written == 0){
  16   2              return 0xff;
  17   2          }
  18   1          temp = user_fifo.dt[user_fifo.r];
  19   1          user_fifo.r = user_fifo.r + 1;
  20   1          if(user_fifo.r == MAX_QUEUE_LEN){
  21   2              user_fifo.r = 0;
  22   2          }
  23   1          user_fifo.num_bytes_written = user_fifo.num_bytes_written - 1;
  24   1          return temp;
  25   1      }
  26          void user_fifo_push(uint8_t d){
  27   1          if(user_fifo.num_bytes_written == MAX_QUEUE_LEN){
  28   2              return;
  29   2          }
  30   1          user_fifo.dt[user_fifo.w] = d;
  31   1          user_fifo.w = user_fifo.w + 1;
  32   1          if(user_fifo.w == MAX_QUEUE_LEN){
  33   2              user_fifo.w = 0;
  34   2          }
  35   1          user_fifo.num_bytes_written = user_fifo.num_bytes_written + 1;
  36   1      }
  37          uint8_t user_fifo_get(uint8_t loc){
  38   1          return user_fifo.dt[loc];
  39   1      }
  40          
  41          void user_fifo_reset(){
  42   1          user_fifo.num_bytes_written = user_fifo.r = user_fifo.w = 0;
  43   1      }
  44          
  45          uint16_t user_fifo_get_r_point(){
  46   1          return user_fifo.r;
  47   1      }
  48          
  49          uint16_t user_fifo_get_w_point(){
  50   1          return user_fifo.w;
  51   1      }
  52          
  53          uint16_t user_fifo_get_number_bytes_written(){
  54   1          return user_fifo.num_bytes_written;
C51 COMPILER V9.57.0.0   USER_FIFO                                                         05/08/2021 13:18:31 PAGE 2   

  55   1      }
  56          
  57          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    246    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   2055    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
