C51 COMPILER V9.57.0.0   TIMER                                                             05/04/2021 14:02:50 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE TIMER
OBJECT MODULE PLACED IN .\Objects\timer.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Sources\timer.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(
                    -.\Listings\timer.lst) TABS(2) OBJECT(.\Objects\timer.obj)

line level    source

   1          
   2          #include "timer.h"
   3          
   4          uint16_t Wait_Count=0;
   5          uint16_t Key_Count=0;
   6          uint16_t Toset_Count=0;
   7          
   8          void T0_Init(void)
   9          {
  10   1        TMOD|=0x01;
  11   1        TH0=T1MS>>8;        
  12   1        TL0=T1MS;
  13   1        ET0=1;              
  14   1        TR0=1;              
  15   1      }
  16          void T0_ISR_PC(void)    interrupt 1
  17          {
  18   1        EA=0;
  19   1        TH0=T1MS>>8;
  20   1        TL0=T1MS;
  21   1        Wait_Count++;
  22   1        if(Wait_Count>1000)
  23   1        {
  24   2          Wait_Count=0;
  25   2          Key_Count++;
  26   2          Toset_Count++;
  27   2        }
  28   1        WDT_RST();
  29   1        EA=1;
  30   1      }
  31          
  32          void T2_Init(void)
  33          {
  34   1        T2CON=0x70;
  35   1        TH2=0x00;
  36   1        TL2=0x00;
  37   1        TRL2H=0xBC;
  38   1        TRL2L=0xCD;        
  39   1        IEN0|=0x20;        
  40   1        TR2=0x01;
  41   1      }
  42          void T2_ISR_PC(void)    interrupt 5
  43          {
  44   1        TF2=0;    
  45   1      //  WDT_RST();
  46   1      }
  47          
  48          void InitTimer(void)
  49          {
  50   1      //  T0_Init();
  51   1      //  T2_Init();
  52   1      }
  53          

C51 COMPILER V9.57.0.0   TIMER                                                             05/04/2021 14:02:50 PAGE 2   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    129    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      6    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
